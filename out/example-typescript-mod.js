/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assets.ts":
/*!***********************!*\
  !*** ./src/assets.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.cursor = void 0;
exports.cursor = "data:image/png;base64,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";


/***/ }),

/***/ "./src/cheats/autofish.ts":
/*!********************************!*\
  !*** ./src/cheats/autofish.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.init = void 0;
function init(parent) {
    var catchfish = false;
    var catchagain = false;
    parent.onUpdate = function () {
        if (parent.getEnabled()) {
            //@ts-ignore
            if (catchagain && ModAPI.player.fishEntity == null) {
                //@ts-ignore
                ModAPI.rightClickMouse();
                catchagain = false;
            }
            //@ts-ignore
            if (ModAPI.player.fishEntity != null) {
                //@ts-ignore
                if (ModAPI.player.fishEntity.ticksExisted < 100 && catchfish == false) {
                    catchfish = true;
                }
                //@ts-ignore
                if (ModAPI.player.fishEntity.isInWater() && ModAPI.player.fishEntity.ticksExisted > 100 && (Math.ceil(ModAPI.player.fishEntity.y) - ModAPI.player.fishEntity.y) >= .3) {
                    if (catchfish) {
                        catchfish = false;
                        //@ts-ignore
                        ModAPI.rightClickMouse();
                        catchagain = true;
                    }
                }
            }
        }
    };
    parent.onEnable = function () {
        catchfish = true;
    };
}
exports.init = init;


/***/ }),

/***/ "./src/cheats/flight.ts":
/*!******************************!*\
  !*** ./src/cheats/flight.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.init = exports.settings = void 0;
exports.settings = [
    {
        name: "Mode",
        type: "List",
        modes: ["Abilities", "Packet"],
        current: 0,
    },
];
function init(parent) {
    parent.onUpdate = function () {
        if (parent.getEnabled()) {
            //@ts-ignore
            if (!ModAPI.player.capabilities.isFlying) {
                //@ts-ignore
                ModAPI.player.capabilities.isFlying = true;
                //@ts-ignore
                ModAPI.player.reload();
            }
        }
    };
    parent.onEnable = function () {
        //@ts-ignore
        if (ModAPI.player != null) {
            //@ts-ignore
            if (ModAPI.player.capabilities != null) {
                //@ts-ignore
                ModAPI.player.capabilities.isFlying = true;
                //@ts-ignore
                ModAPI.player.reload();
            }
        }
    };
    parent.onDisable = function () {
        //@ts-ignore
        if (ModAPI.player != null) {
            //@ts-ignore
            if (ModAPI.player.capabilities != null) {
                //@ts-ignore
                ModAPI.player.capabilities.isFlying = false;
                //@ts-ignore
                ModAPI.player.reload();
            }
        }
    };
}
exports.init = init;


/***/ }),

/***/ "./src/cheats/step.ts":
/*!****************************!*\
  !*** ./src/cheats/step.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.init = void 0;
function init(parent) {
    parent.settings = [
        {
            name: "Height",
            type: "Slider",
            min: 1,
            max: 6,
            step: 0.5,
            current: 1.5
        }
    ];
    parent.onUpdate = function () {
        if (parent.getEnabled()) {
            //@ts-ignore
            if (ModAPI.player.stepHeight != parent.settings[0].current) {
                //@ts-ignore
                ModAPI.player.stepHeight = parent.settings[0].current;
                //@ts-ignore
                ModAPI.player.reload();
            }
        }
    };
    parent.onEnable = function () {
        //@ts-ignore
        if (ModAPI.player != null) {
            //@ts-ignore
            ModAPI.player.stepHeight = parent.settings[0].current;
            //@ts-ignore
            ModAPI.player.reload();
        }
    };
    parent.onDisable = function () {
        //@ts-ignore
        if (ModAPI.player != null) {
            //@ts-ignore
            ModAPI.player.stepHeight = 0.6000000238418579;
            //@ts-ignore
            ModAPI.player.reload();
        }
    };
}
exports.init = init;


/***/ }),

/***/ "./src/gui.ts":
/*!********************!*\
  !*** ./src/gui.ts ***!
  \********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.refreshModules = exports.open = exports.setting = exports.isOpen = exports.destroy = void 0;
var clientName_1 = __webpack_require__(/*! ./util/clientName */ "./src/util/clientName.ts");
var actualModules_1 = __webpack_require__(/*! ./util/actualModules */ "./src/util/actualModules.ts");
// delete the ui
function destroy() {
    if (document.getElementById("ui") != null) {
        document.getElementById("ui").remove();
    }
}
exports.destroy = destroy;
var container;
// check if open
function isOpen() {
    if (document.getElementById("ui") == null) {
        return false;
    }
    else {
        return true;
    }
}
exports.isOpen = isOpen;
// open a setting menu
function setting(module) {
    /*var lst = [
      {
        name: "Mode",
        type: "List",
        modes: ["Abilities", "Packet"],
        current: 0
      },
      {
        name: "Speed",
        type: "Slider",
        min: 1,
        max: 4,
        current: 1
      },
      {
        name: "Test",
        type: "Boolean",
        toggled: true
      },
    ]*/
    var lst = module.function.settings;
    console.log(lst);
    var s = document.createElement("div");
    s.className = "setting";
    s.style.position = "absolute";
    s.style.color = "white";
    s.style.backdropFilter = "blur(8px)";
    s.style.background = "rgba(0,0,0,0.5)";
    s.style.borderRadius = "15px";
    s.style.padding = "15px";
    s.style.fontFamily = "monospace";
    s.style.overflowY = "hidden";
    s.style.animation = "rgb 4s linear infinite";
    s.style.width = "15%";
    s.style.height = "50%";
    s.style.top = "100px";
    s.style.left = "100px";
    s.style.zIndex = "1000";
    s.style.backdropFilter = "blur(8px)";
    s.style.resize = "both";
    var title = document.createElement("div");
    title.innerText = module.name;
    title.style.fontSize = "22px";
    s.appendChild(title);
    var close = document.createElement("div");
    close.innerText = "X";
    close.style.fontSize = "28px";
    close.style.position = "absolute";
    close.style.right = "15px";
    close.style.top = "10px";
    close.style.cursor = "pointer";
    close.onclick = function () {
        s.remove();
    };
    s.appendChild(close);
    document.body.appendChild(s);
    var _loop_1 = function (i) {
        if (lst.hasOwnProperty(i)) {
            bg = document.createElement("div");
            bg.style.background = "rgba(100,100,100,0.5)";
            bg.style.margin = "5px";
            bg.style.padding = "5px";
            bg.style.borderRadius = "10px";
            s.appendChild(bg);
            if (lst[i].type == "List") {
                selDesc = document.createElement("div");
                selDesc.style.fontSize = "20px";
                selDesc.innerText = "".concat(lst[i].name, " - ").concat(lst[i].current);
                bg.appendChild(selDesc);
                sel = document.createElement("select");
                sel.onchange = function () {
                    lst[i].current = parseInt(sel.value);
                    selDesc.innerText = "".concat(lst[i].name, " - ").concat(lst[i].current);
                };
                for (var j in lst[i].modes) {
                    if (lst[i].modes.hasOwnProperty(j)) {
                        opt = document.createElement("option");
                        opt.innerText = lst[i].modes[j];
                        opt.value = j + "";
                    }
                    bg.appendChild(sel);
                }
            }
            else if (lst[i].type == "Slider") {
                slideDesc = document.createElement("div");
                slideDesc.style.fontSize = "20px";
                slideDesc.innerText = "".concat(lst[i].name, " - ").concat(lst[i].current);
                bg.appendChild(slideDesc);
                slide = document.createElement("input");
                slide.type = "range";
                slide.step = lst[i].step;
                slide.min = lst[i].min;
                slide.max = lst[i].max;
                slide.value = lst[i].current;
                slide.onchange = function () {
                    lst[i].current = parseFloat(slide.value);
                    slideDesc.innerText = "".concat(lst[i].name, " - ").concat(lst[i].current);
                };
                bg.appendChild(slide);
            }
            else if (lst[i].type == "Boolean") {
                boolDesc = document.createElement("div");
                boolDesc.style.fontSize = "20px";
                boolDesc.innerText = "".concat(lst[i].name, " - ").concat(lst[i].toggled);
                bg.appendChild(boolDesc);
                bool = document.createElement("input");
                bool.type = "checkbox";
                bool.checked = lst[i].toggled;
                bool.onchange = function () {
                    lst[i].toggled = bool.checked;
                    boolDesc.innerText = "".concat(lst[i].name, " - ").concat(lst[i].toggled);
                };
                bg.appendChild(bool);
            }
        }
    };
    var bg, selDesc, sel, opt, slideDesc, slide, boolDesc, bool;
    for (var i in lst) {
        _loop_1(i);
    }
}
exports.setting = setting;
//create the gui
function open() {
    document.exitPointerLock();
    var cn = clientName_1.clientName;
    var ui = document.createElement("div");
    ui.id = "ui";
    ui.style.position = "fixed";
    ui.style.width = "66%";
    ui.style.height = "66%";
    ui.style.top = document.body.clientHeight * 0.165 + "px";
    ui.style.left = document.body.clientWidth * 0.165 + "px";
    ui.style.color = "white";
    ui.style.backdropFilter = "blur(8px)";
    ui.style.background = "rgba(0,0,0,0.75)";
    ui.style.borderRadius = "15px";
    ui.style.padding = "15px";
    ui.style.boxShadow = "0px 0px 40px rgba(0, 195, 255,0.5)";
    ui.style.fontFamily = "monospace";
    ui.style.overflowY = "hidden";
    ui.style.animation = "rgb 4s linear infinite";
    document.body.appendChild(ui);
    var title = document.createElement("div");
    title.innerText = cn;
    title.style.fontSize = "24px";
    title.style.margin = "5px";
    ui.appendChild(title);
    var search = document.createElement("input");
    search.style.width = "33%";
    search.type = "text";
    search.style.border = "solid 2px rgba(200,200,200,0.5)";
    search.style.borderRadius = "10px";
    search.style.color = "rgba(255,255,255,1)";
    search.style.display = "inline-block";
    search.style.padding = "8px";
    search.style.marginLeft = "20px";
    search.style.fontSize = "22px";
    search.style.background = "rgba(50,50,50,.24)";
    search.placeholder = "🔎︎ Search";
    search.style.backdropFilter = "blur(8px)";
    title.appendChild(search);
    var close = document.createElement("div");
    close.innerText = "X";
    close.style.fontSize = "28px";
    close.style.position = "absolute";
    close.style.right = "15px";
    close.style.top = "10px";
    close.style.cursor = "pointer";
    close.onclick = function () {
        destroy();
    };
    ui.appendChild(close);
    var bar = document.createElement("div");
    bar.style.overflowX = "scroll";
    ui.appendChild(bar);
    for (var i in actualModules_1.categories) {
        if (actualModules_1.categories.hasOwnProperty(i)) {
            var category = document.createElement("div");
            category.innerText = actualModules_1.categories[i];
            category.style.fontSize = "18px";
            category.style.cursor = "pointer";
            category.style.display = "inline-block";
            category.style.padding = "10px";
            category.style.margin = "5px";
            category.style.background = "rgba(100,100,100,0.5)";
            category.style.borderRadius = "5px";
            category.onclick = function () {
            };
            bar.appendChild(category);
        }
    }
    container = document.createElement("center");
    container.style.height = "100%";
    container.style.overflowY = "scroll";
    ui.appendChild(container);
    refreshModules();
}
exports.open = open;
// Reload module list
function refreshModules() {
    if (isOpen()) {
        container.innerHTML = "";
        var _loop_2 = function (i) {
            if (actualModules_1.modules.hasOwnProperty(i)) {
                modl = document.createElement("div");
                modltitle = document.createElement("div");
                modltitle.innerText = "".concat(actualModules_1.modules[i].name);
                modltitle.style.fontSize = "22px";
                modltitle.style.fontWeight = "bold";
                modl.appendChild(modltitle);
                modl.style.textAlign = "left";
                modl.style.display = "inline-block";
                modl.style.width = "25%";
                modl.style.height = "25%";
                modl.style.padding = "5px";
                modl.style.borderRadius = "15px";
                modl.style.margin = "10px";
                modl.style.cursor = "pointer";
                modl.style.background = "rgba(100,100,100,0.5)";
                if (actualModules_1.modules[i].function.getEnabled()) {
                    modl.style.boxShadow = "0px 0px 15px rgba(0, 255, 0,1)";
                }
                modl.onclick = function (e) {
                    actualModules_1.modules[i].function.toggle();
                    refreshModules();
                };
                modl.oncontextmenu = function (e) {
                    new setting(actualModules_1.modules[i]);
                    console.log(actualModules_1.modules[i]);
                };
                container.appendChild(modl);
            }
        };
        var modl, modltitle;
        for (var i in actualModules_1.modules) {
            _loop_2(i);
        }
    }
}
exports.refreshModules = refreshModules;


/***/ }),

/***/ "./src/util/actualModules.ts":
/*!***********************************!*\
  !*** ./src/util/actualModules.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.modules = exports.categories = void 0;
var flightMOD = __webpack_require__(/*! ../cheats/flight */ "./src/cheats/flight.ts");
//import * as fullbrightMOD from "../cheats/autofish";
var stepMOD = __webpack_require__(/*! ../cheats/step */ "./src/cheats/step.ts");
var autofishMOD = __webpack_require__(/*! ../cheats/autofish */ "./src/cheats/autofish.ts");
var ui = __webpack_require__(/*! ../gui */ "./src/gui.ts");
function template(mod) {
    // module functions
    this.enabledDONOTUSE = false;
    this.init = function () { };
    this.onEnable = function () { };
    this.onDisable = function () { };
    this.enable = function () { this.enabledDONOTUSE = true; this.onEnable(); ui.refreshModules(); };
    this.disable = function () { this.enabledDONOTUSE = false; this.onDisable(); ui.refreshModules(); };
    this.onKey = function (e) { };
    this.onMCKey = function (e) { };
    this.getEnabled = function () { return this.enabledDONOTUSE; };
    this.toggle = function () { this.enabledDONOTUSE = !this.enabledDONOTUSE; if (this.enabledDONOTUSE) {
        this.onEnable();
    }
    else {
        this.onDisable();
    } };
    //mc functions
    this.onUpdate = function () { };
    this.alert = function () { alert(); };
    this.settings = [];
    mod.init(this);
}
exports.categories = {
    movement: "Movement",
    player: "Player",
    render: "Render",
    fun: "Fun"
};
exports.modules = {
    flight: {
        name: "Flight",
        function: new template(flightMOD),
        category: "Movement",
        description: "Allows you to fly",
    },
    step: {
        name: "Step",
        function: new template(stepMOD),
        category: "Movement",
        description: "Allows you to step",
    },
    autofish: {
        name: "AutoFish",
        function: new template(autofishMOD),
        category: "Player",
        description: "Automatically casts and reels rod",
    }
};


/***/ }),

/***/ "./src/util/chatLogger.ts":
/*!********************************!*\
  !*** ./src/util/chatLogger.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.logToChat = void 0;
var clientName_1 = __webpack_require__(/*! ./clientName */ "./src/util/clientName.ts");
function logToChat(msg) {
    //@ts-ignore
    ModAPI.displayToChat({ msg: "\u00A75[".concat(clientName_1.clientName, "]\u00A7r ").concat(msg) });
}
exports.logToChat = logToChat;


/***/ }),

/***/ "./src/util/clientName.ts":
/*!********************************!*\
  !*** ./src/util/clientName.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, exports) => {


// global variable for the client's name
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.clientName = void 0;
exports.clientName = "burmod";


/***/ }),

/***/ "./src/util/consoleLogger.ts":
/*!***********************************!*\
  !*** ./src/util/consoleLogger.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.logToConsole = void 0;
var clientName_1 = __webpack_require__(/*! ./clientName */ "./src/util/clientName.ts");
function logToConsole(msg) {
    console.log("[".concat(clientName_1.clientName, "] ").concat(msg));
}
exports.logToConsole = logToConsole;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;
/*!*********************!*\
  !*** ./src/Main.ts ***!
  \*********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
var consoleLogger_1 = __webpack_require__(/*! ./util/consoleLogger */ "./src/util/consoleLogger.ts");
var chatLogger_1 = __webpack_require__(/*! ./util/chatLogger */ "./src/util/chatLogger.ts");
var assets = __webpack_require__(/*! ./assets */ "./src/assets.ts");
var ui = __webpack_require__(/*! ./gui */ "./src/gui.ts");
(0, consoleLogger_1.logToConsole)("Init...");
(0, chatLogger_1.logToChat)("Init...");
(0, chatLogger_1.logToChat)("Loading modules...");
var actualModules_1 = __webpack_require__(/*! ./util/actualModules */ "./src/util/actualModules.ts");
ModAPI.require("player");
addEventListener("keydown", function (e) {
    if (e.location == KeyboardEvent.DOM_KEY_LOCATION_RIGHT &&
        e.key == "Shift" &&
        !ui.isOpen()) {
        ui.open();
    }
    for (var key in actualModules_1.modules) {
        if (actualModules_1.modules.hasOwnProperty(key)) {
            actualModules_1.modules[key].function.onKey(e);
        }
    }
});
ModAPI.addEventListener("key", function (e) {
    if (e.key == 54) {
        ui.destroy;
    }
    for (var key in actualModules_1.modules) {
        if (actualModules_1.modules.hasOwnProperty(key)) {
            actualModules_1.modules[key].function.onMCKey(e);
        }
    }
});
ModAPI.addEventListener("update", function () {
    for (var key in actualModules_1.modules) {
        if (actualModules_1.modules.hasOwnProperty(key)) {
            actualModules_1.modules[key].function.onUpdate();
        }
    }
});
var styleSheet = document.styleSheets[0];
styleSheet.insertRule("\n::-webkit-scrollbar {\n  width: 10px;\n}");
styleSheet.insertRule("\n::-webkit-scrollbar-track {\n  background: rgba(0,0,0,0);\n}");
styleSheet.insertRule("\n::-webkit-scrollbar-thumb {\nbackground: rgba(100,100,100,0.5);\nfilter: blur(4px);\n}");
styleSheet.insertRule("@keyframes rgb {\n  0% { box-shadow: 0px 0px 40px rgba(255, 0, 0,0.75); }\n  16% { box-shadow: 0px 0px 40px rgba(255, 255, 0,0.75); }\n  33% { box-shadow: 0px 0px 40px rgba(0, 255, 0,0.75); }\n  50% { box-shadow: 0px 0px 40px rgba(0, 255, 255,0.75); }\n  66% { box-shadow: 0px 0px 40px rgba(0, 0, 255,0.75); }\n  83% { box-shadow: 0px 0px 40px rgba(255, 0, 255,0.75); }\n  100% { box-shadow: 0px 0px 40px rgba(255, 0, 0,0.75); }\n}");
function customUI() {
    //@ts-ignore
    if (ModAPI.mcinstance.$currentScreen != null) {
        if (ModAPI.currentScreen().startsWith("net.minecraft.client.gui.GuiMainMenu")) {
            //@ts-ignore
            var singlePlayer = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[0];
            //@ts-ignore
            var multiPlayer = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[1];
            //@ts-ignore
            var mods = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[2];
            //@ts-ignore
            var forkOnGitHub = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[3];
            //@ts-ignore
            var options = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[4];
            //@ts-ignore
            var editProfile = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[5];
            //@ts-ignore
            var launguage = ModAPI.mcinstance.$currentScreen.$buttonList.$array1.data[6];
            //@ts-ignore
            var currentScreen = ModAPI.mcinstance.$currentScreen;
            var buttonDistance = 42;
            var buttonDistanceRel = 22;
            var buttonSpacing = 2;
            var buttonWidth = 100;
            var enc = new TextEncoder();
            //options
            options.$width13 = buttonWidth;
            options.$yPosition = currentScreen.$height7 - buttonDistance;
            //mods
            mods.$width13 = buttonWidth / 2;
            mods.$xPosition0 = options.$xPosition0 - buttonWidth / 2 - buttonSpacing;
            mods.$yPosition = currentScreen.$height7 - buttonDistance;
            //SinglePlayer
            singlePlayer.$width13 = buttonWidth;
            singlePlayer.$yPosition = options.$yPosition - buttonDistanceRel;
            //MultiPlayer
            multiPlayer.$width13 = buttonWidth + launguage.$width13 + buttonSpacing;
            multiPlayer.$xPosition0 =
                singlePlayer.$xPosition0 + buttonWidth + buttonSpacing;
            multiPlayer.$yPosition = options.$yPosition - buttonDistanceRel;
            //Edit profile
            editProfile.$width13 = buttonWidth;
            editProfile.$yPosition = currentScreen.$height7 - buttonDistance;
            //Lang
            launguage.$xPosition0 =
                editProfile.$xPosition0 + editProfile.$width13 + buttonSpacing;
            launguage.$yPosition = currentScreen.$height7 - buttonDistance;
            //Fork
            forkOnGitHub.$width13 = buttonWidth / 2;
            forkOnGitHub.$yPosition = mods.$yPosition - buttonDistanceRel;
            forkOnGitHub.$xPosition0 = mods.$xPosition0;
            forkOnGitHub.$displayString.$characters.data = enc.encode("Fork");
            currentScreen.$openGLWarning1.$characters.data = enc.encode("");
            //currentScreen.$splashText.$characters.data = enc.encode("Justin is the sped version of Daniel")
            if (document.getElementById("serverpinglist") == null) {
                var servers = document.createElement("div");
                servers.id = "serverpinglist";
                var pings = [
                    {
                        name: "Aeon Network",
                        address: "wss://aeon-network.net",
                    },
                    {
                        name: "Arch MC",
                        address: "wss://mc.arch.lol",
                    },
                    {
                        name: "Hellium Network",
                        address: "wss://helltech.cc",
                    },
                    {
                        name: "Clever Teaching",
                        address: "wss://clever-teaching.com",
                    },
                    {
                        name: "Zyth",
                        address: "wss://mc.zyth.me",
                    },
                ];
                servers.style.overflowY = "scroll";
                servers.style.wordBreak = "break-all";
                servers.style.position = "fixed";
                servers.style.top = "10%";
                servers.style.left = "2.5%";
                servers.style.width = "15%";
                servers.style.height = "80%";
                servers.style.color = "rgba(255,255,255,1)";
                servers.style.backgroundColor = "rgba(0,0,0,0.5)";
                servers.style.borderRadius = "15px";
                servers.style.fontFamily = "monospace";
                pings.forEach(function (e) {
                    var cur = document.createElement("div");
                    cur.style.margin = "10px";
                    servers.appendChild(cur);
                    var curh2 = document.createElement("div");
                    curh2.style.fontSize = "20px";
                    curh2.innerText = e.name;
                    cur.appendChild(curh2);
                    var curserver = document.createElement("div");
                    curserver.innerText = e.address;
                    cur.appendChild(curserver);
                    var playerinfo = document.createElement("div");
                    playerinfo.innerText = "not connected";
                    playerinfo.style.color = "red";
                    playerinfo.style.fontWeight = "bold";
                    playerinfo.style.fontSize = "16px";
                    playerinfo.style.width = "100%";
                    cur.appendChild(playerinfo);
                    var testwebsocket = new WebSocket(e.address);
                    var timeping = Date.now();
                    testwebsocket.onopen = function () {
                        testwebsocket.send("Accept: MOTD");
                    };
                    testwebsocket.onmessage = function (e) {
                        if (e.data) {
                            if (typeof e.data === "string") {
                                try {
                                    var dat = JSON.parse(e.data);
                                    if (dat["type"].toLowerCase() === "motd") {
                                        playerinfo.innerText =
                                            dat["data"]["online"] + "/" + dat["data"]["max"];
                                        playerinfo.style.color = "lime";
                                        var ping = document.createElement("div");
                                        ping.style.display = "inline-block";
                                        ping.style.float = "right";
                                        ping.innerText += (Date.now() - timeping) + "ms";
                                        playerinfo.appendChild(ping);
                                        console.log(dat);
                                    }
                                }
                                catch (err) {
                                    console.log(err);
                                }
                            }
                        }
                    };
                });
                document.body.appendChild(servers);
            }
        }
        else {
            if (document.getElementById("serverpinglist") != null) {
                document.getElementById("serverpinglist").remove();
            }
        }
    }
}
var custui = setInterval(customUI, 50);
//Custom Cursor
document.body.getElementsByTagName("canvas")[0].style.cursor =
    'url("' + assets.cursor + '"), auto';
document.body.style.cursor = 'url("' + assets.cursor + '"), auto';
function destroy() {
    clearInterval(custui);
    ui.destroy();
    document.body.getElementsByTagName("canvas")[0].style.cursor = "auto";
    document.body.style.cursor = "auto";
    if (document.getElementById("serverpinglist") != null) {
        document.getElementById("serverpinglist").remove();
    }
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL2Fzc2V0cy50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL2NoZWF0cy9hdXRvZmlzaC50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL2NoZWF0cy9mbGlnaHQudHMiLCJ3ZWJwYWNrOi8vZXhhbXBsZS10eXBlc2NyaXB0LW1vZC8uL3NyYy9jaGVhdHMvc3RlcC50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL2d1aS50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL3V0aWwvYWN0dWFsTW9kdWxlcy50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL3V0aWwvY2hhdExvZ2dlci50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL3V0aWwvY2xpZW50TmFtZS50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kLy4vc3JjL3V0aWwvY29uc29sZUxvZ2dlci50cyIsIndlYnBhY2s6Ly9leGFtcGxlLXR5cGVzY3JpcHQtbW9kL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2V4YW1wbGUtdHlwZXNjcmlwdC1tb2QvLi9zcmMvTWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3Vyc29yID0gdm9pZCAwO1xuZXhwb3J0cy5jdXJzb3IgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQndBQUFBbENBWUFBQUJSZUlueEFBQUFBWE5TUjBJQXJzNGM2UUFBQ0ZGSlJFRlVXRWV0VjF0dlhOVVpYZnZjcnpNVE8wNUlLNFdxQ29LQ0NnalVxcFhhQ2xTa3dtL29QK2xMZWVHbEQrMUQyMVF0VWt0VnFSZW1nQ2hDSUVnaUF3MUdRSnFRZ0dNU1F4STdkbUtQNTM1dSs1eDlxYjQ5VGtVSVNoVEtrWTVtUEhPODExN3JXOS82OXJESEhyeEhTeW5oZWg0NmV6cm96SFhnZWU1UWEvMEtyNXRudklWaTZmRGh4UXhmMGNVSVVDc0Z5N1lScFFuU1ZnclhkZnRTaVgvbWRmUDc1MTU1OHhRQS9SWGhnZjM0Z2J1MUZCSmU0R1BmSFF2WXYzOEJnZStQR2lHT2xHWDVVdG5VNStxYURUenBqRk8vTi9ubHMwc1ZZMTkrQXdhd0xDdnNtZXZnb1llL2pmc2Z1QmVoNy9QdDN1RHk2dXJGalN0Yk81T2Fpek9TcWVPUlhaLzg0NytPYi80L2JJMmtrMG1HQXdmMjRTZVBQNEpISHYwK1NhcVhsMWZ4L29rejdQTGxxOGlMNGcwTjhWY282OVh1a2VOclh3SGdGQWNPN01mamp6K0tIejN5UGRpMmpmUG5MK0QwNlJWc2JlMDBlVjRjcjRWOFVXdjFKcGZOT2xRa2U1d1hDd3VMVGJjTGVUc2JNSkptV1dGcTk0TWZmaGNQZitkK2NpbUdnekZHb3pFNGI4UTBMejd0OXlkbkI4UFJKOU1zMzVCQ1hCYXg5eDlnc3RIdExwVzNCZmpZZzNmclBLK3dkKzhjSG5yNGZ0enpyVVB3QXhlKzV5TkpZc1JSb0xhMis5WEt5cXE4Y0hHajdnL0dHN3h1bGh5TC9XWHZYWGQ4Y1Bodzk3WmFadGMwSFBQemUvREFnL2ZpMEYzZk1HRHRUZ3NMQy9Ob3RWTnNiRnpWSzJkWDJZV0xhN0szUGRncHEyYko5cXlubGUyZWlYUXdpdSs4c3o1elpsNHVMdjVjQXV5bUxXUUFlVldqMDJuam5uc1A0ZURCcjhGeEhMUTdiY002YmNVZ1V3MEdJL09hWlVXVzVmbnFaRFI5YXpDYWZscFh6WWJuV3V0ZXUzVnB5TzN0YnJkNzA1b2F3Sm8zYUxVU2ZQUFFuY1k4Qk5ocXBaaWJheU5LUWpCWXhrZ1VEazB0bWw2L1AvcjQ0d3ZibTV0YlY0cThPRzhCNzdWRFora1BMeTJ1M0txZUJyQ3BHeVJwaklNSHY0NTkrL2ZDY1Z5emdYWTdSUkFGaUtQUUtKQ21DWlRVNnZMbWxqeDE4a081dHJhWlpYbDJsZ0hIQWo5NEZWTnhLbDlZYU82Nzd6Nzk1Sk5Qa3JRM3lHc0FoUkNJb3RDdzJ6UGZnV083YUxjVHBHbU1JUENSdGhKVHp6MmRqbG5qNnRZT1BsbytoL1gxcXlqeTRnS0F0N1hEam1VRlB4VTQvbGl6WUxRMkhJNFhGeGZGNXhtYnhpZEFQL0F4TjA4MVMrSFlOdElrbmdINkh1STBOdksyMnkwamE1Wmx1SEpsRytQaFZPZEZOYXA0dlphWDVjZVRhWGFPQVd1V2I1K3NOck9QdWtzM3Rvd0JuRTBMRjJtcmhUQU1ZZGtXa2lSRUdzZndQUTl4RWhuWDBnYW9SeHNoVUJZY1RWTVRvSnhNcHJ6Zkd4YkR5WFFiV3AvVXpIbWg0VGphUFhKa0RBMW1XTzdtcndGVVVzRnhIY1JwQWo4SVlGa1dramhDRW9md2ZjZjBJN0dqT251ZUI2VVU2cm9CaFg1WmNlVFRYQTlHWTR3bWVhNkUrc0RTMWo4YU8zL2QwM0ljMnhHL2pGYlc3WFpyZy90WlFCcFBmaERDWWpBZ3JZUUFQU1JKaEZacnhwQ1VrRktCOHhwMTA0QU1SKytyaXFNb1M4SHI1Z0t2K0xIeFpMb2tvQXNYOWthSyt1enZYdjczOERPQUVvN25JazUyQVMwTEtZR2trUUdNNHdpZFRzdTBpdXM2NEUxamVwSnpUcTRGWTVaUlJTc3BpN0thN1BTSDZ6czdvMDJoWkduWjlodStiVC8vcHhkZlcvOUN3SUFZR3RORVNKTEExQ3lKWWxQRFZqdWhTUUplMXhpUHA2ZzRod1ZtWktaMFloWjBuaFZpcTdjaitqc2pVVXRaYThhZWJ5enhtNzg5ZC9UTVQ1OTRJdDJWVk1KeFhTUWtLWm5Hc2hGRlBzTEFNeUVRUnlScGlpU056QWFVMHVBMWg1QVNGbU53Yk1mYzFIUlZWUm4yMDJrT1hqY1FTcjFlQ2Y1TVBpbk9oVzR3L3puQUZHRVVnbGtXSE1lR1kxdXdtR1Urb3phSm9nQkI2Sm5ORVRDMUQxMUNLbEJya1ltVTFpRFhDekc3eTVLdjlJZWpFMFZSRFR6WFMyNEFqS0lJekdaZ2pFRXBRR3R0Mk1aeGlDZ0lFQVFld3BpU3A0VW9EQTNic3FwUUZLVnhMaWxDc2p1T3BiWFNhakFZVGE5dTlZWkZ3V3ZQOCt6clhKb2tDYUk0Tmd3VlpqdWxCY1BBUjB3U2g3T2JudHUzTUk4b2pxQTE2RVF3azdDcDRUdWVlWjdNcGJUU3ZkNVFiMTN0cVpLWDJuVzhhMjJ4VzhNa1FXZ0FaNzFLOGlpdHpBSkpGQ0FNQW9SaFlHbzVQeitQT0E2TUFzUnVtaFdHb1dVeDJJeXNCRWlsTUJ4TnNkTWZtclloOXRkTGFnQWp3NUF1V294QUl3SWhRTU13TkNrMHQzZk9oUG9Nc0VLZWw2WWY2Y2hKOVd3YVliN0xpaExqU1lhNkZxYm1YMWhEMC9tN2dQUlB4TkFZeHZjTVF3cjZEbzJ1MElmU0lHT2dJTUM2aHBJU2RWMmJRRkJLNmFxV3ZDaXJVZ2doYk50bU53TEdFY0N1QjZROEpiUDRubXVTaHZxT05rQi9rd0lFeEN0dUpLV2F6eHdyNkwwU1NtMDBVcTFxcFNmTWhuOUxoc1RVdGkxakF1bzFSbXByUU12WllOZlFKbHRGSTB6a2tTTG1VOU1lU21pTHZlMEV3Y3VlNjY1TDNiUnVXc1BkRldjampiRmRJMGp3cXRaNU5sVlZ4YlZXVXB0b0kxVTB5SEIwTUxlMHhiU1dPbGNhejdwaDlOdWYvZUpYSHg1KzZxbjRsb0FFUTA0bC85UG1wVlN5cmpuUHMyekVlVlZLb1FSaFdHUlBNNFZNMmxHNDBtQ2FhbzBYWUZsL1hqeTFjdkg2TERYUmxzSTBQZ1V4RGJMZFd2NnZKa0pvcFdRdXBMd2tHdm1PYUpxTEVtemlhRzNCZ2llMXRpakxYVENoR1ZQUWx0QmFyMmcvZnYvb3UrLzJ2eGd3aVEwUTFZQmU2YWFwMEZRY1RVMTNNMVJLdnFPMTliU1V6V25meFlRV0toMWhjazRxeld3cjFuWlptdk1NODFrbDBvUDV0ZVBHalZtYVJETm05UGlzYnJxdWE4M0wwbXA0UllFODFsSWRnN0orTGZYZ3ZjWGwzdTBkaE0wQVZzb2NBMmxTMFB3emJVRUdZSXlTUTBwSlB5VjRUOVIxWHpSaVF5dWN0bXo3dGFidXJYNHB3R3Z5MFJDOVZqY2lhTlBVc0sxYWFYMVNhWFZVQ3ZHT3JQVWxNQzlqbnRjL2N1SkVRY1BpZG42d0drbXZIZVZNbE5HSTJMMU0vemwycGJSK1N3cjFkKzVZcjd4MTR1eVZXeDEyYi9iOWRZQ2ZmNUFZdW81VkMrampVcW9YaFdCSHRwcmw4OHZMTUFlaUwzUDlGMlRlUVN4TFRWV0hBQUFBQUVsRlRrU3VRbUNDXCI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW5pdCA9IHZvaWQgMDtcbmZ1bmN0aW9uIGluaXQocGFyZW50KSB7XG4gICAgdmFyIGNhdGNoZmlzaCA9IGZhbHNlO1xuICAgIHZhciBjYXRjaGFnYWluID0gZmFsc2U7XG4gICAgcGFyZW50Lm9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocGFyZW50LmdldEVuYWJsZWQoKSkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoY2F0Y2hhZ2FpbiAmJiBNb2RBUEkucGxheWVyLmZpc2hFbnRpdHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIE1vZEFQSS5yaWdodENsaWNrTW91c2UoKTtcbiAgICAgICAgICAgICAgICBjYXRjaGFnYWluID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmIChNb2RBUEkucGxheWVyLmZpc2hFbnRpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGlmIChNb2RBUEkucGxheWVyLmZpc2hFbnRpdHkudGlja3NFeGlzdGVkIDwgMTAwICYmIGNhdGNoZmlzaCA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXRjaGZpc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBpZiAoTW9kQVBJLnBsYXllci5maXNoRW50aXR5LmlzSW5XYXRlcigpICYmIE1vZEFQSS5wbGF5ZXIuZmlzaEVudGl0eS50aWNrc0V4aXN0ZWQgPiAxMDAgJiYgKE1hdGguY2VpbChNb2RBUEkucGxheWVyLmZpc2hFbnRpdHkueSkgLSBNb2RBUEkucGxheWVyLmZpc2hFbnRpdHkueSkgPj0gLjMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGNoZmlzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hmaXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZEFQSS5yaWdodENsaWNrTW91c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoYWdhaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwYXJlbnQub25FbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhdGNoZmlzaCA9IHRydWU7XG4gICAgfTtcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW5pdCA9IGV4cG9ydHMuc2V0dGluZ3MgPSB2b2lkIDA7XG5leHBvcnRzLnNldHRpbmdzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogXCJNb2RlXCIsXG4gICAgICAgIHR5cGU6IFwiTGlzdFwiLFxuICAgICAgICBtb2RlczogW1wiQWJpbGl0aWVzXCIsIFwiUGFja2V0XCJdLFxuICAgICAgICBjdXJyZW50OiAwLFxuICAgIH0sXG5dO1xuZnVuY3Rpb24gaW5pdChwYXJlbnQpIHtcbiAgICBwYXJlbnQub25VcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChwYXJlbnQuZ2V0RW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIGlmICghTW9kQVBJLnBsYXllci5jYXBhYmlsaXRpZXMuaXNGbHlpbmcpIHtcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBNb2RBUEkucGxheWVyLmNhcGFiaWxpdGllcy5pc0ZseWluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgTW9kQVBJLnBsYXllci5yZWxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcGFyZW50Lm9uRW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKE1vZEFQSS5wbGF5ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoTW9kQVBJLnBsYXllci5jYXBhYmlsaXRpZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIE1vZEFQSS5wbGF5ZXIuY2FwYWJpbGl0aWVzLmlzRmx5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBNb2RBUEkucGxheWVyLnJlbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwYXJlbnQub25EaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKE1vZEFQSS5wbGF5ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoTW9kQVBJLnBsYXllci5jYXBhYmlsaXRpZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIE1vZEFQSS5wbGF5ZXIuY2FwYWJpbGl0aWVzLmlzRmx5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgTW9kQVBJLnBsYXllci5yZWxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLmluaXQgPSBpbml0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmluaXQgPSB2b2lkIDA7XG5mdW5jdGlvbiBpbml0KHBhcmVudCkge1xuICAgIHBhcmVudC5zZXR0aW5ncyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJIZWlnaHRcIixcbiAgICAgICAgICAgIHR5cGU6IFwiU2xpZGVyXCIsXG4gICAgICAgICAgICBtaW46IDEsXG4gICAgICAgICAgICBtYXg6IDYsXG4gICAgICAgICAgICBzdGVwOiAwLjUsXG4gICAgICAgICAgICBjdXJyZW50OiAxLjVcbiAgICAgICAgfVxuICAgIF07XG4gICAgcGFyZW50Lm9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocGFyZW50LmdldEVuYWJsZWQoKSkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAoTW9kQVBJLnBsYXllci5zdGVwSGVpZ2h0ICE9IHBhcmVudC5zZXR0aW5nc1swXS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgTW9kQVBJLnBsYXllci5zdGVwSGVpZ2h0ID0gcGFyZW50LnNldHRpbmdzWzBdLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgTW9kQVBJLnBsYXllci5yZWxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcGFyZW50Lm9uRW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgaWYgKE1vZEFQSS5wbGF5ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBNb2RBUEkucGxheWVyLnN0ZXBIZWlnaHQgPSBwYXJlbnQuc2V0dGluZ3NbMF0uY3VycmVudDtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgTW9kQVBJLnBsYXllci5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcGFyZW50Lm9uRGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgIGlmIChNb2RBUEkucGxheWVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgTW9kQVBJLnBsYXllci5zdGVwSGVpZ2h0ID0gMC42MDAwMDAwMjM4NDE4NTc5O1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICBNb2RBUEkucGxheWVyLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVmcmVzaE1vZHVsZXMgPSBleHBvcnRzLm9wZW4gPSBleHBvcnRzLnNldHRpbmcgPSBleHBvcnRzLmlzT3BlbiA9IGV4cG9ydHMuZGVzdHJveSA9IHZvaWQgMDtcbnZhciBjbGllbnROYW1lXzEgPSByZXF1aXJlKFwiLi91dGlsL2NsaWVudE5hbWVcIik7XG52YXIgYWN0dWFsTW9kdWxlc18xID0gcmVxdWlyZShcIi4vdXRpbC9hY3R1YWxNb2R1bGVzXCIpO1xuLy8gZGVsZXRlIHRoZSB1aVxuZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1aVwiKSAhPSBudWxsKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidWlcIikucmVtb3ZlKCk7XG4gICAgfVxufVxuZXhwb3J0cy5kZXN0cm95ID0gZGVzdHJveTtcbnZhciBjb250YWluZXI7XG4vLyBjaGVjayBpZiBvcGVuXG5mdW5jdGlvbiBpc09wZW4oKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidWlcIikgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLmlzT3BlbiA9IGlzT3Blbjtcbi8vIG9wZW4gYSBzZXR0aW5nIG1lbnVcbmZ1bmN0aW9uIHNldHRpbmcobW9kdWxlKSB7XG4gICAgLyp2YXIgbHN0ID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiBcIk1vZGVcIixcbiAgICAgICAgdHlwZTogXCJMaXN0XCIsXG4gICAgICAgIG1vZGVzOiBbXCJBYmlsaXRpZXNcIiwgXCJQYWNrZXRcIl0sXG4gICAgICAgIGN1cnJlbnQ6IDBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiU3BlZWRcIixcbiAgICAgICAgdHlwZTogXCJTbGlkZXJcIixcbiAgICAgICAgbWluOiAxLFxuICAgICAgICBtYXg6IDQsXG4gICAgICAgIGN1cnJlbnQ6IDFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiVGVzdFwiLFxuICAgICAgICB0eXBlOiBcIkJvb2xlYW5cIixcbiAgICAgICAgdG9nZ2xlZDogdHJ1ZVxuICAgICAgfSxcbiAgICBdKi9cbiAgICB2YXIgbHN0ID0gbW9kdWxlLmZ1bmN0aW9uLnNldHRpbmdzO1xuICAgIGNvbnNvbGUubG9nKGxzdCk7XG4gICAgdmFyIHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHMuY2xhc3NOYW1lID0gXCJzZXR0aW5nXCI7XG4gICAgcy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBzLnN0eWxlLmNvbG9yID0gXCJ3aGl0ZVwiO1xuICAgIHMuc3R5bGUuYmFja2Ryb3BGaWx0ZXIgPSBcImJsdXIoOHB4KVwiO1xuICAgIHMuc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiYSgwLDAsMCwwLjUpXCI7XG4gICAgcy5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjE1cHhcIjtcbiAgICBzLnN0eWxlLnBhZGRpbmcgPSBcIjE1cHhcIjtcbiAgICBzLnN0eWxlLmZvbnRGYW1pbHkgPSBcIm1vbm9zcGFjZVwiO1xuICAgIHMuc3R5bGUub3ZlcmZsb3dZID0gXCJoaWRkZW5cIjtcbiAgICBzLnN0eWxlLmFuaW1hdGlvbiA9IFwicmdiIDRzIGxpbmVhciBpbmZpbml0ZVwiO1xuICAgIHMuc3R5bGUud2lkdGggPSBcIjE1JVwiO1xuICAgIHMuc3R5bGUuaGVpZ2h0ID0gXCI1MCVcIjtcbiAgICBzLnN0eWxlLnRvcCA9IFwiMTAwcHhcIjtcbiAgICBzLnN0eWxlLmxlZnQgPSBcIjEwMHB4XCI7XG4gICAgcy5zdHlsZS56SW5kZXggPSBcIjEwMDBcIjtcbiAgICBzLnN0eWxlLmJhY2tkcm9wRmlsdGVyID0gXCJibHVyKDhweClcIjtcbiAgICBzLnN0eWxlLnJlc2l6ZSA9IFwiYm90aFwiO1xuICAgIHZhciB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGl0bGUuaW5uZXJUZXh0ID0gbW9kdWxlLm5hbWU7XG4gICAgdGl0bGUuc3R5bGUuZm9udFNpemUgPSBcIjIycHhcIjtcbiAgICBzLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICB2YXIgY2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNsb3NlLmlubmVyVGV4dCA9IFwiWFwiO1xuICAgIGNsb3NlLnN0eWxlLmZvbnRTaXplID0gXCIyOHB4XCI7XG4gICAgY2xvc2Uuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgY2xvc2Uuc3R5bGUucmlnaHQgPSBcIjE1cHhcIjtcbiAgICBjbG9zZS5zdHlsZS50b3AgPSBcIjEwcHhcIjtcbiAgICBjbG9zZS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICBjbG9zZS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzLnJlbW92ZSgpO1xuICAgIH07XG4gICAgcy5hcHBlbmRDaGlsZChjbG9zZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIGlmIChsc3QuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIGJnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGJnLnN0eWxlLmJhY2tncm91bmQgPSBcInJnYmEoMTAwLDEwMCwxMDAsMC41KVwiO1xuICAgICAgICAgICAgYmcuc3R5bGUubWFyZ2luID0gXCI1cHhcIjtcbiAgICAgICAgICAgIGJnLnN0eWxlLnBhZGRpbmcgPSBcIjVweFwiO1xuICAgICAgICAgICAgYmcuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxMHB4XCI7XG4gICAgICAgICAgICBzLmFwcGVuZENoaWxkKGJnKTtcbiAgICAgICAgICAgIGlmIChsc3RbaV0udHlwZSA9PSBcIkxpc3RcIikge1xuICAgICAgICAgICAgICAgIHNlbERlc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIHNlbERlc2Muc3R5bGUuZm9udFNpemUgPSBcIjIwcHhcIjtcbiAgICAgICAgICAgICAgICBzZWxEZXNjLmlubmVyVGV4dCA9IFwiXCIuY29uY2F0KGxzdFtpXS5uYW1lLCBcIiAtIFwiKS5jb25jYXQobHN0W2ldLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGJnLmFwcGVuZENoaWxkKHNlbERlc2MpO1xuICAgICAgICAgICAgICAgIHNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgICAgICAgICAgc2VsLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsc3RbaV0uY3VycmVudCA9IHBhcnNlSW50KHNlbC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbERlc2MuaW5uZXJUZXh0ID0gXCJcIi5jb25jYXQobHN0W2ldLm5hbWUsIFwiIC0gXCIpLmNvbmNhdChsc3RbaV0uY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIGxzdFtpXS5tb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobHN0W2ldLm1vZGVzLmhhc093blByb3BlcnR5KGopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmlubmVyVGV4dCA9IGxzdFtpXS5tb2Rlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC52YWx1ZSA9IGogKyBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJnLmFwcGVuZENoaWxkKHNlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobHN0W2ldLnR5cGUgPT0gXCJTbGlkZXJcIikge1xuICAgICAgICAgICAgICAgIHNsaWRlRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgc2xpZGVEZXNjLnN0eWxlLmZvbnRTaXplID0gXCIyMHB4XCI7XG4gICAgICAgICAgICAgICAgc2xpZGVEZXNjLmlubmVyVGV4dCA9IFwiXCIuY29uY2F0KGxzdFtpXS5uYW1lLCBcIiAtIFwiKS5jb25jYXQobHN0W2ldLmN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGJnLmFwcGVuZENoaWxkKHNsaWRlRGVzYyk7XG4gICAgICAgICAgICAgICAgc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgICAgc2xpZGUudHlwZSA9IFwicmFuZ2VcIjtcbiAgICAgICAgICAgICAgICBzbGlkZS5zdGVwID0gbHN0W2ldLnN0ZXA7XG4gICAgICAgICAgICAgICAgc2xpZGUubWluID0gbHN0W2ldLm1pbjtcbiAgICAgICAgICAgICAgICBzbGlkZS5tYXggPSBsc3RbaV0ubWF4O1xuICAgICAgICAgICAgICAgIHNsaWRlLnZhbHVlID0gbHN0W2ldLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgc2xpZGUub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxzdFtpXS5jdXJyZW50ID0gcGFyc2VGbG9hdChzbGlkZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlRGVzYy5pbm5lclRleHQgPSBcIlwiLmNvbmNhdChsc3RbaV0ubmFtZSwgXCIgLSBcIikuY29uY2F0KGxzdFtpXS5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJnLmFwcGVuZENoaWxkKHNsaWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxzdFtpXS50eXBlID09IFwiQm9vbGVhblwiKSB7XG4gICAgICAgICAgICAgICAgYm9vbERlc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGJvb2xEZXNjLnN0eWxlLmZvbnRTaXplID0gXCIyMHB4XCI7XG4gICAgICAgICAgICAgICAgYm9vbERlc2MuaW5uZXJUZXh0ID0gXCJcIi5jb25jYXQobHN0W2ldLm5hbWUsIFwiIC0gXCIpLmNvbmNhdChsc3RbaV0udG9nZ2xlZCk7XG4gICAgICAgICAgICAgICAgYmcuYXBwZW5kQ2hpbGQoYm9vbERlc2MpO1xuICAgICAgICAgICAgICAgIGJvb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICAgICAgYm9vbC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICAgICAgICAgIGJvb2wuY2hlY2tlZCA9IGxzdFtpXS50b2dnbGVkO1xuICAgICAgICAgICAgICAgIGJvb2wub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxzdFtpXS50b2dnbGVkID0gYm9vbC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICBib29sRGVzYy5pbm5lclRleHQgPSBcIlwiLmNvbmNhdChsc3RbaV0ubmFtZSwgXCIgLSBcIikuY29uY2F0KGxzdFtpXS50b2dnbGVkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJnLmFwcGVuZENoaWxkKGJvb2wpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgYmcsIHNlbERlc2MsIHNlbCwgb3B0LCBzbGlkZURlc2MsIHNsaWRlLCBib29sRGVzYywgYm9vbDtcbiAgICBmb3IgKHZhciBpIGluIGxzdCkge1xuICAgICAgICBfbG9vcF8xKGkpO1xuICAgIH1cbn1cbmV4cG9ydHMuc2V0dGluZyA9IHNldHRpbmc7XG4vL2NyZWF0ZSB0aGUgZ3VpXG5mdW5jdGlvbiBvcGVuKCkge1xuICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgIHZhciBjbiA9IGNsaWVudE5hbWVfMS5jbGllbnROYW1lO1xuICAgIHZhciB1aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdWkuaWQgPSBcInVpXCI7XG4gICAgdWkuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgdWkuc3R5bGUud2lkdGggPSBcIjY2JVwiO1xuICAgIHVpLnN0eWxlLmhlaWdodCA9IFwiNjYlXCI7XG4gICAgdWkuc3R5bGUudG9wID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKiAwLjE2NSArIFwicHhcIjtcbiAgICB1aS5zdHlsZS5sZWZ0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAqIDAuMTY1ICsgXCJweFwiO1xuICAgIHVpLnN0eWxlLmNvbG9yID0gXCJ3aGl0ZVwiO1xuICAgIHVpLnN0eWxlLmJhY2tkcm9wRmlsdGVyID0gXCJibHVyKDhweClcIjtcbiAgICB1aS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDAsMCwwLDAuNzUpXCI7XG4gICAgdWkuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxNXB4XCI7XG4gICAgdWkuc3R5bGUucGFkZGluZyA9IFwiMTVweFwiO1xuICAgIHVpLnN0eWxlLmJveFNoYWRvdyA9IFwiMHB4IDBweCA0MHB4IHJnYmEoMCwgMTk1LCAyNTUsMC41KVwiO1xuICAgIHVpLnN0eWxlLmZvbnRGYW1pbHkgPSBcIm1vbm9zcGFjZVwiO1xuICAgIHVpLnN0eWxlLm92ZXJmbG93WSA9IFwiaGlkZGVuXCI7XG4gICAgdWkuc3R5bGUuYW5pbWF0aW9uID0gXCJyZ2IgNHMgbGluZWFyIGluZmluaXRlXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh1aSk7XG4gICAgdmFyIHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aXRsZS5pbm5lclRleHQgPSBjbjtcbiAgICB0aXRsZS5zdHlsZS5mb250U2l6ZSA9IFwiMjRweFwiO1xuICAgIHRpdGxlLnN0eWxlLm1hcmdpbiA9IFwiNXB4XCI7XG4gICAgdWkuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgc2VhcmNoLnN0eWxlLndpZHRoID0gXCIzMyVcIjtcbiAgICBzZWFyY2gudHlwZSA9IFwidGV4dFwiO1xuICAgIHNlYXJjaC5zdHlsZS5ib3JkZXIgPSBcInNvbGlkIDJweCByZ2JhKDIwMCwyMDAsMjAwLDAuNSlcIjtcbiAgICBzZWFyY2guc3R5bGUuYm9yZGVyUmFkaXVzID0gXCIxMHB4XCI7XG4gICAgc2VhcmNoLnN0eWxlLmNvbG9yID0gXCJyZ2JhKDI1NSwyNTUsMjU1LDEpXCI7XG4gICAgc2VhcmNoLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIHNlYXJjaC5zdHlsZS5wYWRkaW5nID0gXCI4cHhcIjtcbiAgICBzZWFyY2guc3R5bGUubWFyZ2luTGVmdCA9IFwiMjBweFwiO1xuICAgIHNlYXJjaC5zdHlsZS5mb250U2l6ZSA9IFwiMjJweFwiO1xuICAgIHNlYXJjaC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDUwLDUwLDUwLC4yNClcIjtcbiAgICBzZWFyY2gucGxhY2Vob2xkZXIgPSBcIvCflI7vuI4gU2VhcmNoXCI7XG4gICAgc2VhcmNoLnN0eWxlLmJhY2tkcm9wRmlsdGVyID0gXCJibHVyKDhweClcIjtcbiAgICB0aXRsZS5hcHBlbmRDaGlsZChzZWFyY2gpO1xuICAgIHZhciBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY2xvc2UuaW5uZXJUZXh0ID0gXCJYXCI7XG4gICAgY2xvc2Uuc3R5bGUuZm9udFNpemUgPSBcIjI4cHhcIjtcbiAgICBjbG9zZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjbG9zZS5zdHlsZS5yaWdodCA9IFwiMTVweFwiO1xuICAgIGNsb3NlLnN0eWxlLnRvcCA9IFwiMTBweFwiO1xuICAgIGNsb3NlLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuICAgIGNsb3NlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlc3Ryb3koKTtcbiAgICB9O1xuICAgIHVpLmFwcGVuZENoaWxkKGNsb3NlKTtcbiAgICB2YXIgYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBiYXIuc3R5bGUub3ZlcmZsb3dYID0gXCJzY3JvbGxcIjtcbiAgICB1aS5hcHBlbmRDaGlsZChiYXIpO1xuICAgIGZvciAodmFyIGkgaW4gYWN0dWFsTW9kdWxlc18xLmNhdGVnb3JpZXMpIHtcbiAgICAgICAgaWYgKGFjdHVhbE1vZHVsZXNfMS5jYXRlZ29yaWVzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY2F0ZWdvcnkuaW5uZXJUZXh0ID0gYWN0dWFsTW9kdWxlc18xLmNhdGVnb3JpZXNbaV07XG4gICAgICAgICAgICBjYXRlZ29yeS5zdHlsZS5mb250U2l6ZSA9IFwiMThweFwiO1xuICAgICAgICAgICAgY2F0ZWdvcnkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgICAgICAgICBjYXRlZ29yeS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICAgICAgICAgIGNhdGVnb3J5LnN0eWxlLnBhZGRpbmcgPSBcIjEwcHhcIjtcbiAgICAgICAgICAgIGNhdGVnb3J5LnN0eWxlLm1hcmdpbiA9IFwiNXB4XCI7XG4gICAgICAgICAgICBjYXRlZ29yeS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDEwMCwxMDAsMTAwLDAuNSlcIjtcbiAgICAgICAgICAgIGNhdGVnb3J5LnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiNXB4XCI7XG4gICAgICAgICAgICBjYXRlZ29yeS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJhci5hcHBlbmRDaGlsZChjYXRlZ29yeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNlbnRlclwiKTtcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93WSA9IFwic2Nyb2xsXCI7XG4gICAgdWkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICByZWZyZXNoTW9kdWxlcygpO1xufVxuZXhwb3J0cy5vcGVuID0gb3Blbjtcbi8vIFJlbG9hZCBtb2R1bGUgbGlzdFxuZnVuY3Rpb24gcmVmcmVzaE1vZHVsZXMoKSB7XG4gICAgaWYgKGlzT3BlbigpKSB7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICBpZiAoYWN0dWFsTW9kdWxlc18xLm1vZHVsZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICBtb2RsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBtb2RsdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIG1vZGx0aXRsZS5pbm5lclRleHQgPSBcIlwiLmNvbmNhdChhY3R1YWxNb2R1bGVzXzEubW9kdWxlc1tpXS5uYW1lKTtcbiAgICAgICAgICAgICAgICBtb2RsdGl0bGUuc3R5bGUuZm9udFNpemUgPSBcIjIycHhcIjtcbiAgICAgICAgICAgICAgICBtb2RsdGl0bGUuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICAgICAgICAgICAgICAgIG1vZGwuYXBwZW5kQ2hpbGQobW9kbHRpdGxlKTtcbiAgICAgICAgICAgICAgICBtb2RsLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgICAgIG1vZGwuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgICAgICAgICAgbW9kbC5zdHlsZS53aWR0aCA9IFwiMjUlXCI7XG4gICAgICAgICAgICAgICAgbW9kbC5zdHlsZS5oZWlnaHQgPSBcIjI1JVwiO1xuICAgICAgICAgICAgICAgIG1vZGwuc3R5bGUucGFkZGluZyA9IFwiNXB4XCI7XG4gICAgICAgICAgICAgICAgbW9kbC5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjE1cHhcIjtcbiAgICAgICAgICAgICAgICBtb2RsLnN0eWxlLm1hcmdpbiA9IFwiMTBweFwiO1xuICAgICAgICAgICAgICAgIG1vZGwuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XG4gICAgICAgICAgICAgICAgbW9kbC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJyZ2JhKDEwMCwxMDAsMTAwLDAuNSlcIjtcbiAgICAgICAgICAgICAgICBpZiAoYWN0dWFsTW9kdWxlc18xLm1vZHVsZXNbaV0uZnVuY3Rpb24uZ2V0RW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGwuc3R5bGUuYm94U2hhZG93ID0gXCIwcHggMHB4IDE1cHggcmdiYSgwLCAyNTUsIDAsMSlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kbC5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsTW9kdWxlc18xLm1vZHVsZXNbaV0uZnVuY3Rpb24udG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hNb2R1bGVzKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtb2RsLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZyhhY3R1YWxNb2R1bGVzXzEubW9kdWxlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFjdHVhbE1vZHVsZXNfMS5tb2R1bGVzW2ldKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1vZGwsIG1vZGx0aXRsZTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhY3R1YWxNb2R1bGVzXzEubW9kdWxlcykge1xuICAgICAgICAgICAgX2xvb3BfMihpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMucmVmcmVzaE1vZHVsZXMgPSByZWZyZXNoTW9kdWxlcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tb2R1bGVzID0gZXhwb3J0cy5jYXRlZ29yaWVzID0gdm9pZCAwO1xudmFyIGZsaWdodE1PRCA9IHJlcXVpcmUoXCIuLi9jaGVhdHMvZmxpZ2h0XCIpO1xuLy9pbXBvcnQgKiBhcyBmdWxsYnJpZ2h0TU9EIGZyb20gXCIuLi9jaGVhdHMvYXV0b2Zpc2hcIjtcbnZhciBzdGVwTU9EID0gcmVxdWlyZShcIi4uL2NoZWF0cy9zdGVwXCIpO1xudmFyIGF1dG9maXNoTU9EID0gcmVxdWlyZShcIi4uL2NoZWF0cy9hdXRvZmlzaFwiKTtcbnZhciB1aSA9IHJlcXVpcmUoXCIuLi9ndWlcIik7XG5mdW5jdGlvbiB0ZW1wbGF0ZShtb2QpIHtcbiAgICAvLyBtb2R1bGUgZnVuY3Rpb25zXG4gICAgdGhpcy5lbmFibGVkRE9OT1RVU0UgPSBmYWxzZTtcbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgdGhpcy5vbkVuYWJsZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICB0aGlzLm9uRGlzYWJsZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICB0aGlzLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5lbmFibGVkRE9OT1RVU0UgPSB0cnVlOyB0aGlzLm9uRW5hYmxlKCk7IHVpLnJlZnJlc2hNb2R1bGVzKCk7IH07XG4gICAgdGhpcy5kaXNhYmxlID0gZnVuY3Rpb24gKCkgeyB0aGlzLmVuYWJsZWRET05PVFVTRSA9IGZhbHNlOyB0aGlzLm9uRGlzYWJsZSgpOyB1aS5yZWZyZXNoTW9kdWxlcygpOyB9O1xuICAgIHRoaXMub25LZXkgPSBmdW5jdGlvbiAoZSkgeyB9O1xuICAgIHRoaXMub25NQ0tleSA9IGZ1bmN0aW9uIChlKSB7IH07XG4gICAgdGhpcy5nZXRFbmFibGVkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkRE9OT1RVU0U7IH07XG4gICAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbiAoKSB7IHRoaXMuZW5hYmxlZERPTk9UVVNFID0gIXRoaXMuZW5hYmxlZERPTk9UVVNFOyBpZiAodGhpcy5lbmFibGVkRE9OT1RVU0UpIHtcbiAgICAgICAgdGhpcy5vbkVuYWJsZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkRpc2FibGUoKTtcbiAgICB9IH07XG4gICAgLy9tYyBmdW5jdGlvbnNcbiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHRoaXMuYWxlcnQgPSBmdW5jdGlvbiAoKSB7IGFsZXJ0KCk7IH07XG4gICAgdGhpcy5zZXR0aW5ncyA9IFtdO1xuICAgIG1vZC5pbml0KHRoaXMpO1xufVxuZXhwb3J0cy5jYXRlZ29yaWVzID0ge1xuICAgIG1vdmVtZW50OiBcIk1vdmVtZW50XCIsXG4gICAgcGxheWVyOiBcIlBsYXllclwiLFxuICAgIHJlbmRlcjogXCJSZW5kZXJcIixcbiAgICBmdW46IFwiRnVuXCJcbn07XG5leHBvcnRzLm1vZHVsZXMgPSB7XG4gICAgZmxpZ2h0OiB7XG4gICAgICAgIG5hbWU6IFwiRmxpZ2h0XCIsXG4gICAgICAgIGZ1bmN0aW9uOiBuZXcgdGVtcGxhdGUoZmxpZ2h0TU9EKSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiTW92ZW1lbnRcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQWxsb3dzIHlvdSB0byBmbHlcIixcbiAgICB9LFxuICAgIHN0ZXA6IHtcbiAgICAgICAgbmFtZTogXCJTdGVwXCIsXG4gICAgICAgIGZ1bmN0aW9uOiBuZXcgdGVtcGxhdGUoc3RlcE1PRCksXG4gICAgICAgIGNhdGVnb3J5OiBcIk1vdmVtZW50XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkFsbG93cyB5b3UgdG8gc3RlcFwiLFxuICAgIH0sXG4gICAgYXV0b2Zpc2g6IHtcbiAgICAgICAgbmFtZTogXCJBdXRvRmlzaFwiLFxuICAgICAgICBmdW5jdGlvbjogbmV3IHRlbXBsYXRlKGF1dG9maXNoTU9EKSxcbiAgICAgICAgY2F0ZWdvcnk6IFwiUGxheWVyXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkF1dG9tYXRpY2FsbHkgY2FzdHMgYW5kIHJlZWxzIHJvZFwiLFxuICAgIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9nVG9DaGF0ID0gdm9pZCAwO1xudmFyIGNsaWVudE5hbWVfMSA9IHJlcXVpcmUoXCIuL2NsaWVudE5hbWVcIik7XG5mdW5jdGlvbiBsb2dUb0NoYXQobXNnKSB7XG4gICAgLy9AdHMtaWdub3JlXG4gICAgTW9kQVBJLmRpc3BsYXlUb0NoYXQoeyBtc2c6IFwiXFx1MDBBNzVbXCIuY29uY2F0KGNsaWVudE5hbWVfMS5jbGllbnROYW1lLCBcIl1cXHUwMEE3ciBcIikuY29uY2F0KG1zZykgfSk7XG59XG5leHBvcnRzLmxvZ1RvQ2hhdCA9IGxvZ1RvQ2hhdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuLy8gZ2xvYmFsIHZhcmlhYmxlIGZvciB0aGUgY2xpZW50J3MgbmFtZVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jbGllbnROYW1lID0gdm9pZCAwO1xuZXhwb3J0cy5jbGllbnROYW1lID0gXCJidXJtb2RcIjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2dUb0NvbnNvbGUgPSB2b2lkIDA7XG52YXIgY2xpZW50TmFtZV8xID0gcmVxdWlyZShcIi4vY2xpZW50TmFtZVwiKTtcbmZ1bmN0aW9uIGxvZ1RvQ29uc29sZShtc2cpIHtcbiAgICBjb25zb2xlLmxvZyhcIltcIi5jb25jYXQoY2xpZW50TmFtZV8xLmNsaWVudE5hbWUsIFwiXSBcIikuY29uY2F0KG1zZykpO1xufVxuZXhwb3J0cy5sb2dUb0NvbnNvbGUgPSBsb2dUb0NvbnNvbGU7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29uc29sZUxvZ2dlcl8xID0gcmVxdWlyZShcIi4vdXRpbC9jb25zb2xlTG9nZ2VyXCIpO1xudmFyIGNoYXRMb2dnZXJfMSA9IHJlcXVpcmUoXCIuL3V0aWwvY2hhdExvZ2dlclwiKTtcbnZhciBhc3NldHMgPSByZXF1aXJlKFwiLi9hc3NldHNcIik7XG52YXIgdWkgPSByZXF1aXJlKFwiLi9ndWlcIik7XG4oMCwgY29uc29sZUxvZ2dlcl8xLmxvZ1RvQ29uc29sZSkoXCJJbml0Li4uXCIpO1xuKDAsIGNoYXRMb2dnZXJfMS5sb2dUb0NoYXQpKFwiSW5pdC4uLlwiKTtcbigwLCBjaGF0TG9nZ2VyXzEubG9nVG9DaGF0KShcIkxvYWRpbmcgbW9kdWxlcy4uLlwiKTtcbnZhciBhY3R1YWxNb2R1bGVzXzEgPSByZXF1aXJlKFwiLi91dGlsL2FjdHVhbE1vZHVsZXNcIik7XG5Nb2RBUEkucmVxdWlyZShcInBsYXllclwiKTtcbmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUubG9jYXRpb24gPT0gS2V5Ym9hcmRFdmVudC5ET01fS0VZX0xPQ0FUSU9OX1JJR0hUICYmXG4gICAgICAgIGUua2V5ID09IFwiU2hpZnRcIiAmJlxuICAgICAgICAhdWkuaXNPcGVuKCkpIHtcbiAgICAgICAgdWkub3BlbigpO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gYWN0dWFsTW9kdWxlc18xLm1vZHVsZXMpIHtcbiAgICAgICAgaWYgKGFjdHVhbE1vZHVsZXNfMS5tb2R1bGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGFjdHVhbE1vZHVsZXNfMS5tb2R1bGVzW2tleV0uZnVuY3Rpb24ub25LZXkoZSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbk1vZEFQSS5hZGRFdmVudExpc3RlbmVyKFwia2V5XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUua2V5ID09IDU0KSB7XG4gICAgICAgIHVpLmRlc3Ryb3k7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBhY3R1YWxNb2R1bGVzXzEubW9kdWxlcykge1xuICAgICAgICBpZiAoYWN0dWFsTW9kdWxlc18xLm1vZHVsZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgYWN0dWFsTW9kdWxlc18xLm1vZHVsZXNba2V5XS5mdW5jdGlvbi5vbk1DS2V5KGUpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5Nb2RBUEkuYWRkRXZlbnRMaXN0ZW5lcihcInVwZGF0ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIGFjdHVhbE1vZHVsZXNfMS5tb2R1bGVzKSB7XG4gICAgICAgIGlmIChhY3R1YWxNb2R1bGVzXzEubW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICBhY3R1YWxNb2R1bGVzXzEubW9kdWxlc1trZXldLmZ1bmN0aW9uLm9uVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbnZhciBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07XG5zdHlsZVNoZWV0Lmluc2VydFJ1bGUoXCJcXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXG4gIHdpZHRoOiAxMHB4O1xcbn1cIik7XG5zdHlsZVNoZWV0Lmluc2VydFJ1bGUoXCJcXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMCk7XFxufVwiKTtcbnN0eWxlU2hlZXQuaW5zZXJ0UnVsZShcIlxcbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xcbmJhY2tncm91bmQ6IHJnYmEoMTAwLDEwMCwxMDAsMC41KTtcXG5maWx0ZXI6IGJsdXIoNHB4KTtcXG59XCIpO1xuc3R5bGVTaGVldC5pbnNlcnRSdWxlKFwiQGtleWZyYW1lcyByZ2Ige1xcbiAgMCUgeyBib3gtc2hhZG93OiAwcHggMHB4IDQwcHggcmdiYSgyNTUsIDAsIDAsMC43NSk7IH1cXG4gIDE2JSB7IGJveC1zaGFkb3c6IDBweCAwcHggNDBweCByZ2JhKDI1NSwgMjU1LCAwLDAuNzUpOyB9XFxuICAzMyUgeyBib3gtc2hhZG93OiAwcHggMHB4IDQwcHggcmdiYSgwLCAyNTUsIDAsMC43NSk7IH1cXG4gIDUwJSB7IGJveC1zaGFkb3c6IDBweCAwcHggNDBweCByZ2JhKDAsIDI1NSwgMjU1LDAuNzUpOyB9XFxuICA2NiUgeyBib3gtc2hhZG93OiAwcHggMHB4IDQwcHggcmdiYSgwLCAwLCAyNTUsMC43NSk7IH1cXG4gIDgzJSB7IGJveC1zaGFkb3c6IDBweCAwcHggNDBweCByZ2JhKDI1NSwgMCwgMjU1LDAuNzUpOyB9XFxuICAxMDAlIHsgYm94LXNoYWRvdzogMHB4IDBweCA0MHB4IHJnYmEoMjU1LCAwLCAwLDAuNzUpOyB9XFxufVwiKTtcbmZ1bmN0aW9uIGN1c3RvbVVJKCkge1xuICAgIC8vQHRzLWlnbm9yZVxuICAgIGlmIChNb2RBUEkubWNpbnN0YW5jZS4kY3VycmVudFNjcmVlbiAhPSBudWxsKSB7XG4gICAgICAgIGlmIChNb2RBUEkuY3VycmVudFNjcmVlbigpLnN0YXJ0c1dpdGgoXCJuZXQubWluZWNyYWZ0LmNsaWVudC5ndWkuR3VpTWFpbk1lbnVcIikpIHtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIHNpbmdsZVBsYXllciA9IE1vZEFQSS5tY2luc3RhbmNlLiRjdXJyZW50U2NyZWVuLiRidXR0b25MaXN0LiRhcnJheTEuZGF0YVswXTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIG11bHRpUGxheWVyID0gTW9kQVBJLm1jaW5zdGFuY2UuJGN1cnJlbnRTY3JlZW4uJGJ1dHRvbkxpc3QuJGFycmF5MS5kYXRhWzFdO1xuICAgICAgICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAgICAgICB2YXIgbW9kcyA9IE1vZEFQSS5tY2luc3RhbmNlLiRjdXJyZW50U2NyZWVuLiRidXR0b25MaXN0LiRhcnJheTEuZGF0YVsyXTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIGZvcmtPbkdpdEh1YiA9IE1vZEFQSS5tY2luc3RhbmNlLiRjdXJyZW50U2NyZWVuLiRidXR0b25MaXN0LiRhcnJheTEuZGF0YVszXTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBNb2RBUEkubWNpbnN0YW5jZS4kY3VycmVudFNjcmVlbi4kYnV0dG9uTGlzdC4kYXJyYXkxLmRhdGFbNF07XG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgICAgIHZhciBlZGl0UHJvZmlsZSA9IE1vZEFQSS5tY2luc3RhbmNlLiRjdXJyZW50U2NyZWVuLiRidXR0b25MaXN0LiRhcnJheTEuZGF0YVs1XTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIGxhdW5ndWFnZSA9IE1vZEFQSS5tY2luc3RhbmNlLiRjdXJyZW50U2NyZWVuLiRidXR0b25MaXN0LiRhcnJheTEuZGF0YVs2XTtcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTY3JlZW4gPSBNb2RBUEkubWNpbnN0YW5jZS4kY3VycmVudFNjcmVlbjtcbiAgICAgICAgICAgIHZhciBidXR0b25EaXN0YW5jZSA9IDQyO1xuICAgICAgICAgICAgdmFyIGJ1dHRvbkRpc3RhbmNlUmVsID0gMjI7XG4gICAgICAgICAgICB2YXIgYnV0dG9uU3BhY2luZyA9IDI7XG4gICAgICAgICAgICB2YXIgYnV0dG9uV2lkdGggPSAxMDA7XG4gICAgICAgICAgICB2YXIgZW5jID0gbmV3IFRleHRFbmNvZGVyKCk7XG4gICAgICAgICAgICAvL29wdGlvbnNcbiAgICAgICAgICAgIG9wdGlvbnMuJHdpZHRoMTMgPSBidXR0b25XaWR0aDtcbiAgICAgICAgICAgIG9wdGlvbnMuJHlQb3NpdGlvbiA9IGN1cnJlbnRTY3JlZW4uJGhlaWdodDcgLSBidXR0b25EaXN0YW5jZTtcbiAgICAgICAgICAgIC8vbW9kc1xuICAgICAgICAgICAgbW9kcy4kd2lkdGgxMyA9IGJ1dHRvbldpZHRoIC8gMjtcbiAgICAgICAgICAgIG1vZHMuJHhQb3NpdGlvbjAgPSBvcHRpb25zLiR4UG9zaXRpb24wIC0gYnV0dG9uV2lkdGggLyAyIC0gYnV0dG9uU3BhY2luZztcbiAgICAgICAgICAgIG1vZHMuJHlQb3NpdGlvbiA9IGN1cnJlbnRTY3JlZW4uJGhlaWdodDcgLSBidXR0b25EaXN0YW5jZTtcbiAgICAgICAgICAgIC8vU2luZ2xlUGxheWVyXG4gICAgICAgICAgICBzaW5nbGVQbGF5ZXIuJHdpZHRoMTMgPSBidXR0b25XaWR0aDtcbiAgICAgICAgICAgIHNpbmdsZVBsYXllci4keVBvc2l0aW9uID0gb3B0aW9ucy4keVBvc2l0aW9uIC0gYnV0dG9uRGlzdGFuY2VSZWw7XG4gICAgICAgICAgICAvL011bHRpUGxheWVyXG4gICAgICAgICAgICBtdWx0aVBsYXllci4kd2lkdGgxMyA9IGJ1dHRvbldpZHRoICsgbGF1bmd1YWdlLiR3aWR0aDEzICsgYnV0dG9uU3BhY2luZztcbiAgICAgICAgICAgIG11bHRpUGxheWVyLiR4UG9zaXRpb24wID1cbiAgICAgICAgICAgICAgICBzaW5nbGVQbGF5ZXIuJHhQb3NpdGlvbjAgKyBidXR0b25XaWR0aCArIGJ1dHRvblNwYWNpbmc7XG4gICAgICAgICAgICBtdWx0aVBsYXllci4keVBvc2l0aW9uID0gb3B0aW9ucy4keVBvc2l0aW9uIC0gYnV0dG9uRGlzdGFuY2VSZWw7XG4gICAgICAgICAgICAvL0VkaXQgcHJvZmlsZVxuICAgICAgICAgICAgZWRpdFByb2ZpbGUuJHdpZHRoMTMgPSBidXR0b25XaWR0aDtcbiAgICAgICAgICAgIGVkaXRQcm9maWxlLiR5UG9zaXRpb24gPSBjdXJyZW50U2NyZWVuLiRoZWlnaHQ3IC0gYnV0dG9uRGlzdGFuY2U7XG4gICAgICAgICAgICAvL0xhbmdcbiAgICAgICAgICAgIGxhdW5ndWFnZS4keFBvc2l0aW9uMCA9XG4gICAgICAgICAgICAgICAgZWRpdFByb2ZpbGUuJHhQb3NpdGlvbjAgKyBlZGl0UHJvZmlsZS4kd2lkdGgxMyArIGJ1dHRvblNwYWNpbmc7XG4gICAgICAgICAgICBsYXVuZ3VhZ2UuJHlQb3NpdGlvbiA9IGN1cnJlbnRTY3JlZW4uJGhlaWdodDcgLSBidXR0b25EaXN0YW5jZTtcbiAgICAgICAgICAgIC8vRm9ya1xuICAgICAgICAgICAgZm9ya09uR2l0SHViLiR3aWR0aDEzID0gYnV0dG9uV2lkdGggLyAyO1xuICAgICAgICAgICAgZm9ya09uR2l0SHViLiR5UG9zaXRpb24gPSBtb2RzLiR5UG9zaXRpb24gLSBidXR0b25EaXN0YW5jZVJlbDtcbiAgICAgICAgICAgIGZvcmtPbkdpdEh1Yi4keFBvc2l0aW9uMCA9IG1vZHMuJHhQb3NpdGlvbjA7XG4gICAgICAgICAgICBmb3JrT25HaXRIdWIuJGRpc3BsYXlTdHJpbmcuJGNoYXJhY3RlcnMuZGF0YSA9IGVuYy5lbmNvZGUoXCJGb3JrXCIpO1xuICAgICAgICAgICAgY3VycmVudFNjcmVlbi4kb3BlbkdMV2FybmluZzEuJGNoYXJhY3RlcnMuZGF0YSA9IGVuYy5lbmNvZGUoXCJcIik7XG4gICAgICAgICAgICAvL2N1cnJlbnRTY3JlZW4uJHNwbGFzaFRleHQuJGNoYXJhY3RlcnMuZGF0YSA9IGVuYy5lbmNvZGUoXCJKdXN0aW4gaXMgdGhlIHNwZWQgdmVyc2lvbiBvZiBEYW5pZWxcIilcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlcnBpbmdsaXN0XCIpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VydmVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgc2VydmVycy5pZCA9IFwic2VydmVycGluZ2xpc3RcIjtcbiAgICAgICAgICAgICAgICB2YXIgcGluZ3MgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQWVvbiBOZXR3b3JrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBcIndzczovL2Flb24tbmV0d29yay5uZXRcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBcmNoIE1DXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBcIndzczovL21jLmFyY2gubG9sXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiSGVsbGl1bSBOZXR3b3JrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBcIndzczovL2hlbGx0ZWNoLmNjXCIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQ2xldmVyIFRlYWNoaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBcIndzczovL2NsZXZlci10ZWFjaGluZy5jb21cIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJaeXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBcIndzczovL21jLnp5dGgubWVcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHNlcnZlcnMuc3R5bGUub3ZlcmZsb3dZID0gXCJzY3JvbGxcIjtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJzLnN0eWxlLndvcmRCcmVhayA9IFwiYnJlYWstYWxsXCI7XG4gICAgICAgICAgICAgICAgc2VydmVycy5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIjtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJzLnN0eWxlLnRvcCA9IFwiMTAlXCI7XG4gICAgICAgICAgICAgICAgc2VydmVycy5zdHlsZS5sZWZ0ID0gXCIyLjUlXCI7XG4gICAgICAgICAgICAgICAgc2VydmVycy5zdHlsZS53aWR0aCA9IFwiMTUlXCI7XG4gICAgICAgICAgICAgICAgc2VydmVycy5zdHlsZS5oZWlnaHQgPSBcIjgwJVwiO1xuICAgICAgICAgICAgICAgIHNlcnZlcnMuc3R5bGUuY29sb3IgPSBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIjtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgwLDAsMCwwLjUpXCI7XG4gICAgICAgICAgICAgICAgc2VydmVycy5zdHlsZS5ib3JkZXJSYWRpdXMgPSBcIjE1cHhcIjtcbiAgICAgICAgICAgICAgICBzZXJ2ZXJzLnN0eWxlLmZvbnRGYW1pbHkgPSBcIm1vbm9zcGFjZVwiO1xuICAgICAgICAgICAgICAgIHBpbmdzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5zdHlsZS5tYXJnaW4gPSBcIjEwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgc2VydmVycy5hcHBlbmRDaGlsZChjdXIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyaDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjdXJoMi5zdHlsZS5mb250U2l6ZSA9IFwiMjBweFwiO1xuICAgICAgICAgICAgICAgICAgICBjdXJoMi5pbm5lclRleHQgPSBlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5hcHBlbmRDaGlsZChjdXJoMik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJzZXJ2ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBjdXJzZXJ2ZXIuaW5uZXJUZXh0ID0gZS5hZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICBjdXIuYXBwZW5kQ2hpbGQoY3Vyc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXllcmluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJpbmZvLmlubmVyVGV4dCA9IFwibm90IGNvbm5lY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJpbmZvLnN0eWxlLmNvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyaW5mby5zdHlsZS5mb250V2VpZ2h0ID0gXCJib2xkXCI7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllcmluZm8uc3R5bGUuZm9udFNpemUgPSBcIjE2cHhcIjtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyaW5mby5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgICAgICBjdXIuYXBwZW5kQ2hpbGQocGxheWVyaW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0d2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldChlLmFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXBpbmcgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICB0ZXN0d2Vic29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3R3ZWJzb2NrZXQuc2VuZChcIkFjY2VwdDogTU9URFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGVzdHdlYnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZS5kYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ID0gSlNPTi5wYXJzZShlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdFtcInR5cGVcIl0udG9Mb3dlckNhc2UoKSA9PT0gXCJtb3RkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJpbmZvLmlubmVyVGV4dCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdFtcImRhdGFcIl1bXCJvbmxpbmVcIl0gKyBcIi9cIiArIGRhdFtcImRhdGFcIl1bXCJtYXhcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyaW5mby5zdHlsZS5jb2xvciA9IFwibGltZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW5nLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbmcuc3R5bGUuZmxvYXQgPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZy5pbm5lclRleHQgKz0gKERhdGUubm93KCkgLSB0aW1lcGluZykgKyBcIm1zXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyaW5mby5hcHBlbmRDaGlsZChwaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZXJ2ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlcnBpbmdsaXN0XCIpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlcnBpbmdsaXN0XCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxudmFyIGN1c3R1aSA9IHNldEludGVydmFsKGN1c3RvbVVJLCA1MCk7XG4vL0N1c3RvbSBDdXJzb3JcbmRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjYW52YXNcIilbMF0uc3R5bGUuY3Vyc29yID1cbiAgICAndXJsKFwiJyArIGFzc2V0cy5jdXJzb3IgKyAnXCIpLCBhdXRvJztcbmRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gJ3VybChcIicgKyBhc3NldHMuY3Vyc29yICsgJ1wiKSwgYXV0byc7XG5mdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGNsZWFySW50ZXJ2YWwoY3VzdHVpKTtcbiAgICB1aS5kZXN0cm95KCk7XG4gICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNhbnZhc1wiKVswXS5zdHlsZS5jdXJzb3IgPSBcImF1dG9cIjtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiYXV0b1wiO1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlcnBpbmdsaXN0XCIpICE9IG51bGwpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXJ2ZXJwaW5nbGlzdFwiKS5yZW1vdmUoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=